const GROUPS = {
  ff_lt60: {
    id: 'ff_lt60',
    label_es: 'Fluidos inflamables (fp < 60°C)',
    label_en: 'Flammable fluids (fp < 60°C)',
  },
  inert_gas: {
    id: 'inert_gas',
    label_es: 'Gas inerte',
    label_en: 'Inert gas systems',
  },
  ff_gt60: {
    id: 'ff_gt60',
    label_es: 'Fluidos inflamables (fp > 60°C)',
    label_en: 'Flammable fluids (fp > 60°C)',
  },
  sea_water: {
    id: 'sea_water',
    label_es: 'Agua de mar',
    label_en: 'Sea water systems',
  },
  fresh_water: {
    id: 'fresh_water',
    label_es: 'Agua dulce',
    label_en: 'Fresh water systems',
  },
  sanitary: {
    id: 'sanitary',
    label_es: 'Sanitarios y drenajes',
    label_en: 'Sanitary / drains',
  },
  sounding: {
    id: 'sounding',
    label_es: 'Sondeos y venteos',
    label_en: 'Sounding / vent',
  },
  misc: {
    id: 'misc',
    label_es: 'Misceláneos',
    label_en: 'Miscellaneous',
  },
};

const SYSTEMS = [
  {
    id: 'cargo_oil_lines_lt60',
    group: 'ff_lt60',
    label_es: 'Líneas de carga de hidrocarburos',
    label_en: 'Cargo oil lines (<60°C)',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'crude_oil_washing_lt60',
    group: 'ff_lt60',
    label_es: 'Crude oil washing',
    label_en: 'Crude oil washing',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'vents_lt60',
    group: 'ff_lt60',
    label_es: 'Vent lines',
    label_en: 'Vent lines',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ig_water_seal',
    group: 'inert_gas',
    label_es: 'Water seal effluent',
    label_en: 'Water seal effluent',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ig_scrubber',
    group: 'inert_gas',
    label_es: 'Scrubber effluent',
    label_en: 'Scrubber effluent',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ig_main',
    group: 'inert_gas',
    label_es: 'Inert gas main',
    label_en: 'Inert gas main',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1, 2],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ig_distribution',
    group: 'inert_gas',
    label_es: 'Inert gas distribution',
    label_en: 'Inert gas distribution',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'cargo_oil_lines_gt60',
    group: 'ff_gt60',
    label_es: 'Líneas de carga (fp > 60°C)',
    label_en: 'Cargo oil lines (>60°C)',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'fuel_oil_lines',
    group: 'ff_gt60',
    label_es: 'Fuel oil lines',
    label_en: 'Fuel oil lines',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'lube_oil_lines',
    group: 'ff_gt60',
    label_es: 'Lubricating oil',
    label_en: 'Lubricating oil',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'hydraulic_oil',
    group: 'ff_gt60',
    label_es: 'Hydraulic oil',
    label_en: 'Hydraulic oil',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'thermal_oil',
    group: 'ff_gt60',
    label_es: 'Thermal oil',
    label_en: 'Thermal oil',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'bilge',
    group: 'sea_water',
    label_es: 'Líneas de achique',
    label_en: 'Bilge lines',
    pipeSystemClass: 'dry/wet',
    fireTest: '8+22',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'fire_main_perm',
    group: 'sea_water',
    label_es: 'Sistemas contra incendios permanentes',
    label_en: 'Fire main (permanent)',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'fire_main_nonperm',
    group: 'sea_water',
    label_es: 'Sistemas contra incendios no permanentes',
    label_en: 'Fire main (non-permanent)',
    pipeSystemClass: 'dry/wet',
    fireTest: '8+22',
    notes: [3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ballast',
    group: 'sea_water',
    label_es: 'Lastre',
    label_en: 'Ballast',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'cooling_sw',
    group: 'sea_water',
    label_es: 'Refrigeración agua de mar',
    label_en: 'Sea water cooling',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'tank_cleaning',
    group: 'sea_water',
    label_es: 'Tank cleaning services',
    label_en: 'Tank cleaning services',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'non_essential_sw',
    group: 'sea_water',
    label_es: 'Sistemas no esenciales (mar)',
    label_en: 'Non-essential sea water systems',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'cooling_fw',
    group: 'fresh_water',
    label_es: 'Refrigeración agua dulce',
    label_en: 'Fresh water cooling',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'condensate_return',
    group: 'fresh_water',
    label_es: 'Retorno de condensado',
    label_en: 'Condensate return',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'non_essential_fw',
    group: 'fresh_water',
    label_es: 'No esenciales (agua dulce)',
    label_en: 'Non-essential fresh water',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'deck_drains',
    group: 'sanitary',
    label_es: 'Desagües de cubierta (internos)',
    label_en: 'Deck drains (internal)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [5],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'sanitary_drains',
    group: 'sanitary',
    label_es: 'Sanitary drains',
    label_en: 'Sanitary drains',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'scuppers_overboard',
    group: 'sanitary',
    label_es: 'Descarga a mar (overboard)',
    label_en: 'Scuppers overboard',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'sounding_tanks_dry',
    group: 'sounding',
    label_es: 'Sondeos (tanques/espacios secos)',
    label_en: 'Sounding (dry spaces)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'sounding_oil_gt60',
    group: 'sounding',
    label_es: 'Sondeos (tanques aceite fp>60°C)',
    label_en: 'Sounding (oil tanks >60°C)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'hp_control_air',
    group: 'misc',
    label_es: 'Aire de control/arranque',
    label_en: 'Control / starting air',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'service_air',
    group: 'misc',
    label_es: 'Aire de servicio (no esencial)',
    label_en: 'Service air (non-essential)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'brine',
    group: 'misc',
    label_es: 'Salmuera',
    label_en: 'Brine',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'co2_outside',
    group: 'misc',
    label_es: 'CO₂ fuera del espacio protegido',
    label_en: 'CO₂ outside protected space',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'co2_inside',
    group: 'misc',
    label_es: 'CO₂ dentro del espacio protegido',
    label_en: 'CO₂ inside protected space',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'steam',
    group: 'misc',
    label_es: 'Vapor',
    label_en: 'Steam',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [8],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
];

const SUBTYPE_RULES = {
  pipe_unions: [
    { id: 'welded_brazed', name: 'Soldadas/Brasing', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
  ],
  compression_couplings: [
    { id: 'swage', name: 'Swage', classes: ['I', 'II', 'III'] },
    { id: 'press', name: 'Press', classes: ['III'] },
    { id: 'typical', name: 'Típica', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
    { id: 'bite', name: 'Mordedor', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
    { id: 'flared', name: 'Abocardado', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
  ],
  slip_on_joints: [
    { id: 'machine_grooved', name: 'Ranurado/Mecanizado', classes: ['I', 'II', 'III'] },
    { id: 'grip', name: 'Grip', classes: ['II', 'III'] },
    { id: 'slip_type', name: 'Slip', classes: ['II', 'III'] },
  ],
};

const NOTES = {
  1: 'Ensayo de fuego cuando se instalan en pump-rooms o cubiertas abiertas.',
  2: 'Slip-on no aceptadas en maquinaria Cat. A ni alojamientos. En otros espacios de maquinaria aceptadas si están visibles y accesibles (MSC/Circ.734).',
  3: 'Juntas de tipo resistente al fuego salvo en cubierta abierta y no usadas para fuel oil.',
  4: 'Ensayo de fuego cuando se instalan en espacios de máquinas de categoría A.',
  5: 'Solo sobre cubierta de pasaje/cubierta de francobordo.',
  6: 'Slip-type en cubierta si P≤10 bar (referencia figuras).',
  7: 'Equivalencia de ensayos (30 sec/8+22/30 húmedo).',
  8: 'Ver 2.12.10 para vapor: slip-on restringidos en cubierta (P≤1 MPa).',
};

const CLAUSES = {
  '2.12.5': 'Riesgo incendio/inundación (costado bajo cubierta o tanques con fluidos inflamables).',
  '2.12.6': 'Capaces de vacío en succiones.',
  '2.12.7': 'Minimizar juntas mecánicas en fluidos inflamables.',
  '2.12.8': 'Slip-on no en bodegas/tanques/espacios no fácilmente accesibles; dentro de tanques solo si el medio es el mismo.',
  '2.12.9': 'Slip-type no como medio principal de unión (solo para compensar deformación axial).',
  '2.12.10': 'Slip-on restringidos en líneas de vapor ≤1 MPa en cubierta expuesta (expansión).',
  '2.12.11': 'Ensayos de tipo conforme a LR Type Approval Test Spec No.2.',
};

const REQUIREMENTS = [
  { id: 'LR-12.2.1', text: 'Las juntas deben contar con aprobación de tipo LR vigente.' },
  { id: 'LR-12.2.2', text: 'Verificar compatibilidad de materiales con el fluido conducido.' },
  { id: 'LR-12.2.3', text: 'Instalar conforme a las instrucciones del fabricante y a la clase de tubería definida.' },
];

const systemsById = SYSTEMS.reduce((acc, item) => {
  acc[item.id] = item;
  return acc;
}, {});

const dataset = {
  id: 'ships',
  title: 'LR · Buques mercantes',
  subtitle: 'Tabla 12.2.8 / 12.2.9 — Juntas Grip-Type / Slip-on',
  groups: GROUPS,
  systems: SYSTEMS,
  systemsById,
  subtypes: SUBTYPE_RULES,
  notes: NOTES,
  clauses: CLAUSES,
  requirements: REQUIREMENTS,
};

export default dataset;
