const GROUPS = {
  ff_lt60: {
    id: 'ff_lt60',
    label_es: 'Fluidos inflamables (fp < 60°C)',
    label_en: 'Flammable fluids (fp < 60°C)',
  },
  ff_gt60: {
    id: 'ff_gt60',
    label_es: 'Fluidos inflamables (fp > 60°C)',
    label_en: 'Flammable fluids (fp > 60°C)',
  },
  sea_water: {
    id: 'sea_water',
    label_es: 'Agua de mar',
    label_en: 'Sea water systems',
  },
  fresh_water: {
    id: 'fresh_water',
    label_es: 'Agua dulce',
    label_en: 'Fresh water systems',
  },
  sanitary: {
    id: 'sanitary',
    label_es: 'Sanitarios y drenajes',
    label_en: 'Sanitary / drains',
  },
  sounding: {
    id: 'sounding',
    label_es: 'Sondeos y venteos',
    label_en: 'Sounding / vent',
  },
  misc: {
    id: 'misc',
    label_es: 'Misceláneos',
    label_en: 'Miscellaneous',
  },
};

const SYSTEMS = [
  {
    id: 'aircraft_vehicle_fuel_lt60',
    group: 'ff_lt60',
    label_es: 'Combustible de aeronaves/vehículos (fp<60°C)',
    label_en: 'Aircraft / vehicle fuel (<60°C)',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [2, 4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'vent_lines_lt60',
    group: 'ff_lt60',
    label_es: 'Vent lines (fp<60°C)',
    label_en: 'Vent lines (<60°C)',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'aircraft_vehicle_fuel_gt60',
    group: 'ff_gt60',
    label_es: 'Fuel aeronaves/vehículos (fp>60°C)',
    label_en: 'Aircraft / vehicle fuel (>60°C)',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [2, 4],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ships_machinery_fuel',
    group: 'ff_gt60',
    label_es: 'Fuel de maquinaria del buque',
    label_en: 'Ship machinery fuel',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'lube_oil',
    group: 'ff_gt60',
    label_es: 'Aceite lubricante',
    label_en: 'Lubricating oil',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'hydraulic_oil',
    group: 'ff_gt60',
    label_es: 'Aceite hidráulico',
    label_en: 'Hydraulic oil',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'bilge',
    group: 'sea_water',
    label_es: 'Líneas de achique',
    label_en: 'Bilge lines',
    pipeSystemClass: 'dry/wet',
    fireTest: '8+22',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'hp_sea_water_spray',
    group: 'sea_water',
    label_es: 'Agua de mar a alta presión / water spray',
    label_en: 'HP sea water / water spray',
    pipeSystemClass: 'dry/wet',
    fireTest: '8+22',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'fire_main_perm',
    group: 'sea_water',
    label_es: 'Extinción permanente (fire main/sprinkler)',
    label_en: 'Fire main (permanent)',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'fire_main_nonperm',
    group: 'sea_water',
    label_es: 'Extinción no permanente (foam/drencher)',
    label_en: 'Fire main (non-permanent)',
    pipeSystemClass: 'dry/wet',
    fireTest: '8+22',
    notes: [3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ballast',
    group: 'sea_water',
    label_es: 'Lastre',
    label_en: 'Ballast',
    pipeSystemClass: 'wet',
    fireTest: '8+22',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'cooling_sw',
    group: 'sea_water',
    label_es: 'Refrigeración (agua de mar)',
    label_en: 'Sea water cooling',
    pipeSystemClass: 'wet',
    fireTest: '8+22',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'tank_cleaning',
    group: 'sea_water',
    label_es: 'Tank cleaning services',
    label_en: 'Tank cleaning services',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'non_essential_sw',
    group: 'sea_water',
    label_es: 'Sistemas no esenciales (mar)',
    label_en: 'Non-essential sea water',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'cooling_fw',
    group: 'fresh_water',
    label_es: 'Refrigeración (agua dulce)',
    label_en: 'Fresh water cooling',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'chilled_water',
    group: 'fresh_water',
    label_es: 'Chilled water',
    label_en: 'Chilled water',
    pipeSystemClass: 'wet',
    fireTest: '30min_wet',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'condensate_return',
    group: 'fresh_water',
    label_es: 'Retorno de condensado',
    label_en: 'Condensate return',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'made_demin_water',
    group: 'fresh_water',
    label_es: 'Agua fabricada/desmineralizada',
    label_en: 'Made / demin water',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'ancillary_fw',
    group: 'fresh_water',
    label_es: 'Sistemas auxiliares (agua dulce)',
    label_en: 'Ancillary fresh water',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'deck_drains_internal',
    group: 'sanitary',
    label_es: 'Desagües de cubierta (internos)',
    label_en: 'Deck drains (internal)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [6],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'sanitary_drains',
    group: 'sanitary',
    label_es: 'Sanitary drains',
    label_en: 'Sanitary drains',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'scuppers_overboard',
    group: 'sanitary',
    label_es: 'Scuppers y descarga a mar',
    label_en: 'Scuppers overboard',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'water_tanks_dry_spaces',
    group: 'sounding',
    label_es: 'Sondeos (tanques de agua/espacios secos)',
    label_en: 'Sounding (water tanks / dry spaces)',
    pipeSystemClass: 'dry/wet',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: false, slip_on_joints: false },
  },
  {
    id: 'oil_tanks_gt60',
    group: 'sounding',
    label_es: 'Sondeos (tanques aceite fp>60°C)',
    label_en: 'Sounding (oil tanks >60°C)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [2, 3],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'intakes_uptakes',
    group: 'sounding',
    label_es: 'Intakes & uptakes',
    label_en: 'Intakes & uptakes',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [7],
    allowedJoints: { pipe_unions: false, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'hvac_trunking',
    group: 'sounding',
    label_es: 'HVAC trunking',
    label_en: 'HVAC trunking',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [7],
    allowedJoints: { pipe_unions: false, compression_couplings: false, slip_on_joints: false },
  },
  {
    id: 'hp_air',
    group: 'misc',
    label_es: 'Aire HP',
    label_en: 'High pressure air',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'mp_air',
    group: 'misc',
    label_es: 'Aire MP',
    label_en: 'Medium pressure air',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'lp_air',
    group: 'misc',
    label_es: 'Aire LP',
    label_en: 'Low pressure air',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'service_air',
    group: 'misc',
    label_es: 'Aire de servicio (no esencial)',
    label_en: 'Service air (non-essential)',
    pipeSystemClass: 'dry',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'brine',
    group: 'misc',
    label_es: 'Salmuera',
    label_en: 'Brine',
    pipeSystemClass: 'wet',
    fireTest: 'not_required',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
  {
    id: 'co2_system',
    group: 'misc',
    label_es: 'CO₂ system',
    label_en: 'CO₂ system',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [1],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'nitrogen_system',
    group: 'misc',
    label_es: 'Nitrógeno',
    label_en: 'Nitrogen',
    pipeSystemClass: 'dry',
    fireTest: '30min_dry',
    notes: [],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: false },
  },
  {
    id: 'steam',
    group: 'misc',
    label_es: 'Vapor',
    label_en: 'Steam',
    pipeSystemClass: '-',
    fireTest: 'not_required',
    notes: [5],
    allowedJoints: { pipe_unions: true, compression_couplings: true, slip_on_joints: true },
  },
];

const SUBTYPE_RULES = {
  pipe_unions: [
    { id: 'welded_brazed', name: 'Soldadas/Brasing', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
  ],
  compression_couplings: [
    { id: 'swage', name: 'Swage', classes: ['III'] },
    { id: 'press', name: 'Press', classes: ['III'] },
    { id: 'typical', name: 'Típica', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
    { id: 'bite', name: 'Mordedor', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
    { id: 'flared', name: 'Abocardado', classes: ['I', 'II', 'III'], od_max_mm: { I: 60.3, II: 60.3 } },
  ],
  slip_on_joints: [
    { id: 'machine_grooved', name: 'Ranurado/Mecanizado', classes: ['I', 'II', 'III'] },
    { id: 'grip', name: 'Grip', classes: ['II', 'III'] },
    { id: 'slip_type', name: 'Slip', classes: ['II', 'III'] },
  ],
};

const NOTES = {
  1: 'En Cat. A: tipo resistente al fuego; “bilge main” en Cat. A: acoples de acero/CuNi o equivalente.',
  2: 'Slip-on no en Cat. A, pañoles de munición ni alojamientos; aceptadas en otros espacios de maquinaria si son visibles y accesibles.',
  3: 'Tipo resistente al fuego salvo en cubiertas abiertas de bajo riesgo.',
  4: 'Tipo resistente al fuego.',
  5: 'Slip-on restringidos en vapor ≤10 bar en cubierta expuesta (ver 5.10.11).',
  6: 'Solo por encima del límite de integridad estanca.',
  7: 'Requisitos específicos en secciones de HVAC trunking e intakes/uptakes.',
};

const CLAUSES = {
  '5.10.5': 'Rotura ≥ 4× presión de diseño (≥200 bar: consideración especial).',
  '5.10.6': 'No usar donde un daño cause fuego/inundación (costado o tanques inflamables).',
  '5.10.7': 'Capacidad para presión/vacío según aplique.',
  '5.10.8': 'Minimizar juntas mecánicas en fluidos inflamables; preferir bridas reconocidas.',
  '5.10.9': 'No slip-on en bodegas/tanques/espacios no accesibles; en tanques solo si el medio es el mismo.',
  '5.10.10': 'Slip-type no como medio principal (solo compensar deformación axial).',
  '5.10.11': 'Slip-on restringidos en vapor ≤10 bar en cubierta expuesta.',
  '5.10.12': 'Ensayos según LR Type Approval Test Spec No.2.',
};

const REQUIREMENTS = [
  { id: 'LRN-5.10.1', text: 'Aplicar las notas específicas de 5.10 en los espacios evaluados.' },
  { id: 'LRN-5.10.2', text: 'Verificar que la unión posea certificación naval vigente.' },
  { id: 'LRN-5.10.3', text: 'Mantener registro de ensayos de fuego y presión cuando apliquen.' },
];

const systemsById = SYSTEMS.reduce((acc, item) => {
  acc[item.id] = item;
  return acc;
}, {});

const dataset = {
  id: 'naval',
  title: 'LR · Buques navales',
  subtitle: 'Tabla 1.5.3 / 1.5.4 — Juntas Grip-Type / Slip-on',
  groups: GROUPS,
  systems: SYSTEMS,
  systemsById,
  subtypes: SUBTYPE_RULES,
  notes: NOTES,
  clauses: CLAUSES,
  requirements: REQUIREMENTS,
};

export default dataset;
